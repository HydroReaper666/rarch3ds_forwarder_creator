checkromdependency()
{
Global romname

;cps1
If romname ~= "\A1941.*"
    Return, "1941.zip"

If romname ~= "\Aarea88.*"
    Return, "unsquad.zip"

If romname ~= "\Apunisherbz.*"
    Return, "punisher.zip"

If romname ~= "\Adino.*"
    Return, "dino.zip"

If romname ~= "\Acaptcomm.*"
    Return, "captcomm.zip"

If romname ~= "\Acawing.*"
    Return, "cawing.zip"

If romname ~= "\Achiki.*"
    Return, "mtwins.zip"

If romname ~= "\Adaimakai.*"
    Return, "ghouls.zip"

If romname ~= "\Adynwar.*"
    Return, "dynwar.zip"

If romname ~= "\Afcrash.*"
    Return, "ffight.zip"

If romname ~= "\Affight.*"
    Return, "ffight.zip"

If romname ~= "\Aforgottn.*"
    Return, "forgottn.zip"

If romname ~= "\Aknights.*"
    Return, "knights.zip"

If romname ~= "\Alostwrld.*"
    Return, "forgottn.zip"

If romname ~= "\Amsword.*"
    Return, "msword.zip"

If romname ~= "\Amegaman.*"
    Return, "megaman.zip"

If romname ~= "\Amercs.*"
    Return, "mercs.zip"

If romname ~= "\Ambomber.*"
    Return, "slammast.zip"

If romname ~= "\Ambombd.*"
    Return, "mbombrd.zip"

If romname ~= "\Ambombrd.*"
    Return, "mbombrd.zip"

If romname ~= "\Anemo.*"
    Return, "nemo.zip"

If romname ~= "\Apang3.*"
    Return, "pang3.zip"

If romname ~= "\Apnick.*"
    Return, "pnickj.zip"

If romname ~= "\Aqad.*"
    Return, "qad.zip"

If romname ~= "\Arockman.*"
    Return, "megaman.zip"

If romname ~= "\Awof.*"
    Return, "wof.zip"

If romname ~= "\Asgyxz.*"
    Return, "wof.zip"

If romname ~= "\Aslammas.*"
    Return, "slammast.zip"

If romname ~= "\Asfach.*"
    Return, "sfzch.zip"

If romname ~= "\Asf2am.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2acc.*"
    Return, "sfa.zip"

If romname ~= "\Asf2any.*"
    Return, "sfa.zip"

If romname ~= "\Asf2ce.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2dk.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2mega.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2rb.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2red.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2tlon.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2v004.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2yyc.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2hf.*"
    Return, "sf2hf.zip"

If romname ~= "\Asf2mdt.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2koryu.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2dong.*"
    Return, "sf2ce.zip"

If romname ~= "\Asf2.*"
    Return, "sf2.zip"

If romname ~= "\Asfz\wch"
    Return, "sfzch.zip"

If romname ~= "\Asfzch.*"
    Return, "sfzch.zip"

If romname ~= "\Astrider.*"
    Return, "strider.zip"

If romname ~= "\Akod.*"
    Return, "kod.zip"

If romname ~= "\Apunipic.*"
    Return, "punisher.zip"

If romname ~= "\A3wonders.*"
    Return, "3wonders.zip"

If romname ~= "\Avarth.*"
    Return, "varth.zip"

If romname ~= "\Awillow.*"
    Return, "willow.zip"

If romname ~= "\Awonder3.*"
    Return, "3wonders.zip"

;cps2
If romname ~= "\A1944.*"
    Return, "1944.zip"

If romname ~= "\A19xx.*"
    Return, "19xx.zip"

If romname ~= "\Aavsp.*"
    Return, "avsp.zip"

If romname ~= "\Aarmwar.*"
    Return, "armwar.zip"

If romname ~= "\Abatcir.*"
    Return, "batcir.zip"

If romname ~= "\Acsclub.*"
    Return, "csclub.zip"

If romname ~= "\Acybots.*"
    Return, "cybots.zip"

If romname ~= "\Adstlk.*"
    Return, "dstlk.zip"

If romname ~= "\Adimahoo.*"
    Return, "dimahoo.zip"

If romname ~= "\Addsom.*"
    Return, "ddsom.zip"

If romname ~= "\Addtod.*"
    Return, "ddtod.zip"

If romname ~= "\Aecofghtr.*"
    Return, "ecofghtr.zip"

If romname ~= "\Agigawing.*"
    Return, "gigawing.zip"

If romname ~= "\Agigaman.*"
    Return, "megaman2.zip"

If romname ~= "\Agmahoo.*"
    Return, "dimahoo.zip"

If romname ~= "\Ahsf2.*"
    Return, "hsf2.zip"

If romname ~= "\Ammatrix.*"
    Return, "mmatrix.zip"

If romname ~= "\Amshvsf.*"
    Return, "mshvsf.zip"

If romname ~= "\Amsh.*"
    Return, "msh.zip"

If romname ~= "\Amvsc.*"
    Return, "mvsc.zip"

If romname ~= "\Ammancp2.*"
    Return, "megaman.zip"

If romname ~= "\Amegaman2.*"
    Return, "megaman2.zip"

If romname ~= "\Amegamn2.*"
    Return, "megaman2.zip"

If romname ~= "\Ampang.*"
    Return, "mpang.zip"

If romname ~= "\Anwarr.*"
    Return, "nwarr.zip"

If romname ~= "\Apfght.*"
    Return, "sgemf.zip"

If romname ~= "\Apgear.*"
    Return, "armwar.zip"

If romname ~= "\Aprogear.*"
    Return, "progear.zip"

If romname ~= "\Apzloog2.*"
    Return, "pzloop2.zip"

If romname ~= "\Aringdest.*"
    Return, "ringdest.zip"

If romname ~= "\Arockman2.*"
    Return, "megaman2.zip"

If romname ~= "\Armancp2.*"
    Return, "mmancp2u.zip"

If romname ~= "\Asfa2.*"
    Return, "sfa2.zip"

If romname ~= "\Asfa3.*"
    Return, "sfa3.zip"

If romname ~= "\Asfa.*"
    Return, "sfa.zip"

If romname ~= "\Asfz2al.*"
    Return, "sfz2al.zip"

If romname ~= "\Asfz2.*"
    Return, "sfa2.zip"

If romname ~= "\Asfz3.*"
    Return, "sfa3.zip"

If romname ~= "\Asfz.*"
    Return, "sfa.zip"

If romname ~= "\Asgemf.*"
    Return, "sgemf.zip"

If romname ~= "\Asbomb.*"
    Return, "ringdest.zip"

If romname ~= "\Aspf2t.*"
    Return, "spf2t.zip"

If romname ~= "\Aspf2x.*"
    Return, "spf2t.zip"

If romname ~= "\Assf2tb.*"
    Return, "ssf2t.zip"

If romname ~= "\Assf2t.*"
    Return, "ssf2.zip"

If romname ~= "\Assf2x.*"
    Return, "ssf2t.zip"

If romname ~= "\Assf2.*"
    Return, "ssf2.zip"

If romname ~= "\Auecology.*"
    Return, "ecofghtr.zip"

If romname ~= "\Avamp.*"
    Return, "dstlk.zip"

If romname ~= "\Avhunt2.*"
    Return, "vhunt2.zip"

If romname ~= "\Avhunt.*"
    Return, "nwarr.zip"

If romname ~= "\Avsav2.*"
    Return, "vsav2.zip"

If romname ~= "\Avsav.*"
    Return, "vsav.zip"

If romname ~= "\Axmcota.*"
    Return, "xmcota.zip"

If romname ~= "\Axmvsf.*"
    Return, "xmvsf.zip"

Return
}

cps1or2()
    {
    Global romshort
    Global rom2short

    cps1 = 1941.zip,3wonders.zip,dino.zip,cworld2j.zip,captcomm.zip,cawing.zip,cps1demo.zip,cps1frog.zip,dynwar.zip,ffight.zip,forgottn.zip,ganbare.zip,ghouls.zip,knights.zip,kod.zip,msword.zip,megaman.zip,mtwins.zip,mercs.zip,mbombrd.zip,nemo.zip,pang3.zip,pnickj.zip,punisher.zip,qad.zip,qtono2j.zip,slammast.zip,sf2.zip,sf2ce.zip,sf2hf.zip,sfzch.zip,strider.zip,unsquad.zip,varth.zip,wof.zip,willow.zip
    cps2 = 1944.zip,19xx.zip,avsp.zip,armwar.zip,batcir.zip,csclub.zip,choko.zip,cybots.zip,dstlk.zip,dimahoo.zip,ddsom.zip,ddtod.zip,ecofghtr.zip,gigawing.zip,hsf2.zip,jyangoku.zip,mmatrix.zip,msh.zip,mshvsf.zip,mvsc.zip,mmancp2u.zip,megaman2.zip,mpang.zip,nwarr.zip,progear.zip,pzloop2.zip,qndream.zip,ringdest.zip,sfa.zip,sfa2.zip,sfa3.zip,sfz2al.zip,sgemf.zip,spf2t.zip,ssf2.zip,ssf2t.zip,vhunt2.zip,vsav.zip,vsav2.zip,xmcota.zip,xmvsf.zip

    If romshort in %cps1%
        Return, "cps1"
    If romshort in %cps2%
        Return, "cps2"
    If rom2short in %cps1%
        Return, "cps1"
    If rom2short in %cps2%
        Return, "cps2"
    
    Return, 0
    }